<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VIP Sorgu Paneli</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --bg1:#060417;
      --bg2:#0b2138;
      --glass: rgba(255,255,255,0.04);
      --accent: linear-gradient(90deg,#ffd94d,#ff7a6c 60%);
      --gold: #ffd94d;
      --muted: rgba(255,255,255,0.6);
    }

    /* Page background & subtle parallax stars */
    html,body{height:100%;}
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at 10% 10%, rgba(255,217,102,0.04), transparent 10%),
                  radial-gradient(circle at 90% 80%, rgba(255,120,97,0.03), transparent 12%),
                  linear-gradient(180deg,var(--bg1),var(--bg2));
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
      overflow-x: hidden;
    }

    .stage{
      width: 100%;
      max-width: 980px;
      display: grid;
      grid-template-columns: 420px 1fr;
      gap: 28px;
      align-items: start;
      perspective: 1400px;
    }

    /* Left: fancy card with form */
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius: 18px;
      padding: 26px;
      box-shadow: 0 10px 40px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.04);
      transform-style: preserve-3d;
      position: relative;
      overflow: visible;
    }

    /* Holographic top badge */
    .home-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.04);color:var(--gold);text-decoration:none;font-weight:700;border:1px solid rgba(255,255,255,0.06);box-shadow:0 6px 18px rgba(0,0,0,0.5);position:absolute;right:18px;top:18px;transition:transform .12s ease, box-shadow .12s ease}
    .home-btn:hover{transform:translateY(-4px);box-shadow:0 12px 32px rgba(0,0,0,0.6)}
    .brand{
      display:flex;align-items:center;gap:12px;margin-bottom:12px;
    }
    .logo{
      width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;
      background: linear-gradient(135deg,#111827 0%, rgba(255,255,255,0.02) 50%);
      box-shadow: 0 6px 18px rgba(0,0,0,0.6), 0 0 18px rgba(255,217,102,0.06);
      border: 1px solid rgba(255,255,255,0.04);
      font-weight:700;color:var(--gold);
    }
    .brand h2{font-size:1.05rem;margin:0;letter-spacing:0.6px}
    .brand p{margin:0;font-size:0.82rem;color:var(--muted)}

    h1#form-title{
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.35rem;
      margin:0 0 14px 0;
      color:var(--gold);
      text-shadow: 0 6px 22px rgba(255,217,102,0.06);
    }

    /* Form area stays functional: same id and input/button types will be generated by existing JS */
    form {
      width:100%;
      display:flex;
      flex-direction:column;
      gap:12px;
      margin-top:6px;
      transform: translateZ(40px) rotateX(0.6deg);
    }

    /* Elegant, 3D glass inputs */
    input[type="text"]{
      width:100%;
      padding:14px 16px;
      border-radius:12px;
      border: 1px solid rgba(255,255,255,0.06);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      backdrop-filter: blur(6px) saturate(1.05);
      color: #fff;
      font-size:0.98rem;
      outline:none;
      box-shadow: 0 6px 18px rgba(2,6,23,0.6), inset 0 -6px 18px rgba(255,255,255,0.01);
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    input::placeholder{color:rgba(255,255,255,0.45)}
    input:focus{
      transform: translateY(-3px) scale(1.01);
      border-color: rgba(255,217,102,0.85);
      box-shadow: 0 8px 30px rgba(255,153,51,0.06), 0 0 24px rgba(255,217,102,0.06);
    }

    /* Button: keep same HTML but upscale visually */
    button{
      appearance:none;
      -webkit-appearance:none;
      border:none;
      padding:14px 18px;
      border-radius:12px;
      font-weight:700;
      font-size:1rem;
      cursor:pointer;
      background: var(--accent);
      color:#0b0b0b;
      box-shadow: 0 8px 30px rgba(255,110,80,0.12), 0 0 30px rgba(255,217,102,0.08);
      transition: transform .15s ease, box-shadow .15s ease;
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
    }
    button i{opacity:0.98}
    button:hover{transform: translateY(-4px) scale(1.02); box-shadow: 0 14px 40px rgba(255,110,80,0.14), 0 0 40px rgba(255,217,102,0.12)}

    /* Right column: extra VIP info panel (purely visual) */
    .info {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: 18px;
      padding: 20px;
      min-height:260px;
      box-shadow: 0 12px 50px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.04);
      transform: translateZ(10px);
    }
    .info .row{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .chip{padding:8px 12px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);font-weight:600}
    .stat{font-size:1.6rem;font-weight:700;color:var(--gold)}
    .muted{color:var(--muted);font-size:0.88rem}

    /* Result box – keep same id #result so JS still writes there */
    #result{
      margin-top:18px;
      padding:18px;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(3,6,23,0.55), rgba(3,6,23,0.45));
      border: 1px solid rgba(255,255,255,0.03);
      box-shadow: 0 10px 40px rgba(0,0,0,0.6), 0 0 40px rgba(0,0,0,0.2) inset;
      font-size:0.98rem;
      line-height:1.5;
      min-height:76px;
      max-height:360px;overflow:auto;
    }

    /* Decorative corner light */
    .card:after{
      content:'';position:absolute;right:-40px;top:-30px;width:200px;height:200px;
      background: radial-gradient(circle at 30% 30%, rgba(255,217,102,0.09), transparent 18%);
      filter: blur(18px);transform: rotate(-8deg);pointer-events:none;opacity:0.9
    }

    /* Micro animations */
    @keyframes floaty{0%{transform:translateY(0px)}50%{transform:translateY(-6px)}100%{transform:translateY(0px)}}
    .logo{animation:floaty 6s ease-in-out infinite}

    /* Responsive */
    @media(max-width:940px){
      .stage{grid-template-columns:1fr;max-width:720px}
      .card{order:2}
      .info{order:1}
    }

    /* Preserve original fadeIn for compatibility */
    @keyframes fadeIn {from { opacity: 0; transform: translateY(-15px);} to {opacity: 1; transform: translateY(0);}}
  </style>
</head>
<body>
  <div class="stage">
    <div class="card">
      <div class="brand">
        <div class="logo">
          <i class="fa-solid fa-crown"></i>
        </div>
        <div>
          <h2>NABI EZEL VE EYMEN</h2>
          <p>VIP Sorgu - Ultra Görünüm</p>
        </div>
        <a href="/" class="home-btn"><i class="fa-solid fa-house"></i> Anasayfaya Dön</a>
      </div>

      <h1 id="form-title">VIP Sorgu Paneli</h1>

      <!-- original form element kept intact so JS still fills it -->
      <form id="queryForm"></form>

      <!-- keep result area with same id so JS writes here -->
      <div id="result"></div>
    </div>

    <div class="info">
      <div class="row">
        <div>
          <div class="muted">Hızlı Bilgiler</div>
          <div class="stat">VIP • ÖZEL</div>
        </div>
        <div class="chip"><i class="fa-regular fa-star"></i> PREMIUM</div>
      </div>

      <div class="row">
        <div>
          <div class="muted">Sorgu Tipi</div>
          <div id="displayApi" class="muted">—</div>
        </div>
        <div>
          <div class="muted">Aktif Modül</div>
          <div class="chip">Otomatik</div>
        </div>
      </div>

      <div style="margin-top:18px;" class="muted">Kısa İpuçları</div>
      <ul style="margin-top:10px;color:rgba(255,255,255,0.7);font-size:0.95rem;line-height:1.5">
        <li>Form alanları aynı ID'lerle oluşturulur; API parametresiyle uyumlu çalışır.</li>
        <li>Sonuçlar hemen altta görüntülenecektir.</li>
      </ul>
    </div>
  </div>

  <script>
    const api = new URLSearchParams(window.location.search).get('api');
    const formTitle = document.getElementById('form-title');
    const form = document.getElementById('queryForm');
    const resultDiv = document.getElementById('result');

    const apiInputs = {
      // TC tabanlı
      'tc_sorgulama': ['tc'],
      'tc_pro_sorgulama': ['tc'],
      'yas': ['tc'],
      'ad_soyad_pro': ['tc'],
      'is_yeri': ['tc'],
      'tc_gsm': ['tc'],
      'adres': ['tc'],
      'hane': ['tc'],
      'apartman': ['tc'],
      'ada_parsel': ['tc'],
      'aile': ['tc'],
      'aile_pro': ['tc'],
      'es': ['tc'],
      'sulale': ['tc'],
      'lgs': ['tc'],
      'e-kurs': ['tc','okulno'],
      'mhrs_randevu': ['tc'],
      'prem_adres': ['tc'],
      'sgk_pro': ['tc'],
      'vergi_levhasi': ['tc'],
      'diploma': ['tc'],
      'basvuru': ['tc'],
      'nobetci_eczane': ['tc'],
      'randevu': ['tc'],
      'internet': ['tc'],
      'personel': ['tc'],
      'universite': ['tc'],
      'sertifika': ['tc'],
      'lgs_2': ['tc'],
      'muhalle': ['tc'],
      'vesika': ['tc'],
      'ehliyet': ['tc'],
      'boy': ['tc'],
      'ayak_no': ['tc'],
      'cm': ['tc'],
      'burc': ['tc'],
      'cocuk': ['tc'],
      'baba': ['tc'],
      'anne': ['tc'],

      // Ad / Soyad
      'ad_soyad': ['ad','soyad','il','ilce'],
      'adi_il_ilce': ['ad','il','ilce'],
      'prem_ad': ['ad','il','ilce'],
      'interpol': ['ad','soyad'],
      'sehit': ['ad','soyad'],

      // GSM / Plaka
      'gsm_tc': ['gsm'],
      'operator': ['gsm'],
      'arac_parca': ['plaka'],
      'arac_borc': ['plaka'],

      // Domain
      'ip': ['domain'],
      'dns': ['domain'],
      'whois': ['domain'],
      'subdomain': ['url'],
      'leak': ['query'],

      // Telegram
      'telegram_sorgu': ['kullanici'],

      // Şifre / diğer
      'sifre_encrypt': ['method','password'],
      'facebook': ['numara'],
      'havadurumu': ['sehir'],
      'email': ['email'],
      'nude': []
    };

    function buildForm() {
      const inputs = apiInputs[api];
      if(!inputs) {
        formTitle.textContent = 'Geçersiz Sorgu';
        form.innerHTML = '<p>Geçersiz veya desteklenmeyen sorgu türü.</p>';
        document.getElementById('displayApi').textContent = 'Geçersiz';
        return;
      }

      const labels = {
        'tc':'TC Kimlik No','ad':'Ad','soyad':'Soyad','il':'İl (Opsiyonel)','ilce':'İlçe (Opsiyonel)',
        'okulno':'Okul No','kullanici':'Telegram Kullanıcı Adı','vergi':'Vergi No',
        'domain':'Domain','url':'URL','query':'Sorgu','method':'Metod','password':'Şifre',
        'numara':'Numara','plaka':'Plaka','sehir':'Şehir','email':'E-Mail'
      };

      formTitle.textContent = api.replace(/_/g,' ').toUpperCase() + ' Sorgu';
      document.getElementById('displayApi').textContent = api;
      form.innerHTML = '';
      inputs.forEach(i=>{
        form.innerHTML += `<input type="text" id="${i}" placeholder="${labels[i]||i}" required />`;
      });
      form.innerHTML += '<button type="submit"><i class="fa-solid fa-magnifying-glass"></i> Sorgula</button>';
    }

    buildForm();

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      resultDiv.textContent = '⏳ Sorgulanıyor...';

      const body = { api };
      const inputs = apiInputs[api];
      if(inputs) {
        inputs.forEach(i=>{
          body[i] = document.getElementById(i).value.trim();
        });
      }

      try {
        const response = await fetch('/api/sorgu',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(body)
        });
        const text = await response.text();
        resultDiv.innerHTML = text;
      } catch(err) {
        resultDiv.textContent = '❌ Hata: '+err.message;
      }
    });
  </script>
</body>
</html>
